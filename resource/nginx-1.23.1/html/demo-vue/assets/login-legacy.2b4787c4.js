!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}System.register(["./require-legacy.04066320.js","./index-legacy.05c79910.js"],(function(t,r){"use strict";var n,i,s,o=document.createElement("style");return o.textContent=".app-container[data-v-a8a2e5c3]{display:flex;align-items:center;justify-content:center;text-align:center;background:linear-gradient(110deg,#abdcff,#0396ff)}.box-card[data-v-a8a2e5c3]{width:400px;height:500px}\n",document.head.appendChild(o),{setters:[function(e){n=e.r,i=e.s},function(e){s=e.n}],execute:function(){function o(){this.mode=1,this.isPadding=!0,this.sk=new Array(32)}function a(){this.SM4_ENCRYPT=1,this.SM4_DECRYPT=0;var e=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],t=[2746333894,1453994832,1736282519,2993693404],r=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];this.GET_ULONG_BE=function(e,t){return(255&e[t])<<24|(255&e[t+1])<<16|(255&e[t+2])<<8|255&e[t+3]},this.PUT_ULONG_BE=function(e,t,r){var n=255&e>>24,i=255&e>>16,s=255&e>>8,o=255&e;t[r]=n>128?n-256:n,t[r+1]=i>128?i-256:i,t[r+2]=s>128?s-256:s,t[r+3]=o>128?o-256:o},this.SHL=function(e,t){return(4294967295&e)<<t},this.ROTL=function(e,t){return this.SHL(e,t)|e>>32-t},this.sm4Lt=function(e){var t,r=new Array(4),n=new Array(4);return this.PUT_ULONG_BE(e,r,0),n[0]=this.sm4Sbox(r[0]),n[1]=this.sm4Sbox(r[1]),n[2]=this.sm4Sbox(r[2]),n[3]=this.sm4Sbox(r[3]),(t=this.GET_ULONG_BE(n,0))^this.ROTL(t,2)^this.ROTL(t,10)^this.ROTL(t,18)^this.ROTL(t,24)},this.sm4F=function(e,t,r,n,i){return e^this.sm4Lt(t^r^n^i)},this.sm4CalciRK=function(e){var t,r=new Array(4),n=new Array(4);return this.PUT_ULONG_BE(e,r,0),n[0]=this.sm4Sbox(r[0]),n[1]=this.sm4Sbox(r[1]),n[2]=this.sm4Sbox(r[2]),n[3]=this.sm4Sbox(r[3]),(t=this.GET_ULONG_BE(n,0))^this.ROTL(t,13)^this.ROTL(t,23)},this.sm4Sbox=function(t){var r=e[255&t];return r>128?r-256:r},this.sm4_setkey_enc=function(e,t){return null==e?(alert("ctx is null!"),!1):null==t||16!==t.length?(alert("key error!"),!1):(e.mode=this.SM4_ENCRYPT,void this.sm4_setkey(e.sk,t))},this.sm4_setkey_dec=function(e,t){null==t||t.length,e.mode=0,this.sm4_setkey(e.sk,t),e.sk=e.sk.reverse()},this.sm4_setkey=function(e,n){var i=new Array(4),s=new Array(36);i[0]=this.GET_ULONG_BE(n,0),i[1]=this.GET_ULONG_BE(n,4),i[2]=this.GET_ULONG_BE(n,8),i[3]=this.GET_ULONG_BE(n,12),s[0]=i[0]^t[0],s[1]=i[1]^t[1],s[2]=i[2]^t[2],s[3]=i[3]^t[3];for(var o=0;o<32;o++)s[o+4]=s[o]^this.sm4CalciRK(s[o+1]^s[o+2]^s[o+3]^r[o]),e[o]=s[o+4]},this.padding=function(e,t){var r;if(null==e)return null;var n=null;if(t===this.SM4_ENCRYPT){r=parseInt(16-e.length%16),n=e.slice(0);for(var i=0;i<r;i++)n[e.length+i]=r}else r=e[e.length-1],n=e.slice(0,e.length-r);return n},this.sm4_one_round=function(e,t,r){var n=0,i=new Array(36);for(i[0]=this.GET_ULONG_BE(t,0),i[1]=this.GET_ULONG_BE(t,4),i[2]=this.GET_ULONG_BE(t,8),i[3]=this.GET_ULONG_BE(t,12);n<32;)i[n+4]=this.sm4F(i[n],i[n+1],i[n+2],i[n+3],e[n]),n++;this.PUT_ULONG_BE(i[35],r,0),this.PUT_ULONG_BE(i[34],r,4),this.PUT_ULONG_BE(i[33],r,8),this.PUT_ULONG_BE(i[32],r,12)},this.sm4_crypt_ecb=function(e,t){null==t&&alert("input is null!"),e.isPadding&&e.mode===this.SM4_ENCRYPT&&(t=this.padding(t,this.SM4_ENCRYPT));for(var r=0,n=t.length,i=[];n>0;n-=16){var s=new Array(16),o=t.slice(16*r,16*(r+1));this.sm4_one_round(e.sk,o,s),i=i.concat(s),r++}var a=i;for(e.isPadding&&e.mode===this.SM4_DECRYPT&&(a=this.padding(a,this.SM4_DECRYPT)),r=0;r<a.length;r++)a[r]<0&&(a[r]=a[r]+256);return a},this.sm4_crypt_cbc=function(e,t,r){var n,i,s,o;null!=t&&16===t.length||alert("iv error!"),null==r&&alert("input is null!"),e.isPadding&&e.mode===this.SM4_ENCRYPT&&(r=this.padding(r,this.SM4_ENCRYPT));var a=0,l=r.length,u=[];if(e.mode===this.SM4_ENCRYPT)for(o=0;l>0;l-=16){for(n=new Array(16),s=new Array(16),i=r.slice(16*o,16*(o+1)),a=0;a<16;a++)n[a]=i[a]^t[a];this.sm4_one_round(e.sk,n,s),t=s.slice(0,16),u=u.concat(s),o++}else{var c=[];for(o=0;l>0;l-=16){for(n=new Array(16),s=new Array(16),c=(i=r.slice(16*o,16*(o+1))).slice(0,16),this.sm4_one_round(e.sk,i,n),a=0;a<16;a++)s[a]=n[a]^t[a];t=c.slice(0,16),u=u.concat(s),o++}}var h=u;for(e.isPadding&&e.mode===this.SM4_DECRYPT&&(h=this.padding(h,this.SM4_DECRYPT)),a=0;a<h.length;a++)h[a]<0&&(h[a]=h[a]+256);return h}}!function(n){"object"===e(t)&&void 0!==r?r.exports=n():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).base64js=n()}((function(){return function e(t,r,n){var i="function"==typeof require&&require;function s(o,a){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){var r=t[o][1][e];return s(r||e)}),c,c.exports,e,t,r,n)}return r[o].exports}for(var o=0;o<n.length;o++)s(n[o]);return s}({"/":[function(e,t,r){r.byteLength=function(e){return 3*e.length/4-l(e)},r.toByteArray=function(e){var t,r,n,o,a,u=e.length;o=l(e),a=new s(3*u/4-o),r=o>0?u-4:u;var c=0;for(t=0;t<r;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],a[c++]=n>>16&255,a[c++]=n>>8&255,a[c++]=255&n;2===o?(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,a[c++]=255&n):1===o&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,a[c++]=n>>8&255,a[c++]=255&n);return a},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s="",o=[],a=16383,l=0,u=r-i;l<u;l+=a)o.push(c(e,l,l+a>u?u:l+a));1===i?(t=e[r-1],s+=n[t>>2],s+=n[t<<4&63],s+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],s+=n[t>>10],s+=n[t>>4&63],s+=n[t<<2&63],s+="=");return o.push(s),o.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function c(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(u(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}]},{},[])("/")}));var l=function(){this.secretKey="GJwsXX_BzW=gJWJW",this.iv="ZkR_SiNoSOFT=568",this.hexString=!1,this.encryptDefault_ECB=function(e){try{var t=new a,r=new o;r.isPadding=!0,r.mode=t.SM4_ENCRYPT;var n=this.stringToByte(this.secretKey);t.sm4_setkey_enc(r,n);var i=t.sm4_crypt_ecb(r,this.stringToByte(e)),s=base64js.fromByteArray(i);return null!=s&&s.trim().length>0&&s.replace(/(\s*|\t|\r|\n)/g,""),s}catch(l){return console.error(l),null}},this.encryptCustom_ECB=function(e,t){try{var r=new a,n=new o;n.isPadding=!0,n.mode=r.SM4_ENCRYPT;var i=this.stringToByte(t);r.sm4_setkey_enc(n,i);var s=r.sm4_crypt_ecb(n,this.stringToByte(e)),l=base64js.fromByteArray(s);return null!=l&&l.trim().length>0&&l.replace(/(\s*|\t|\r|\n)/g,""),l}catch(u){return console.error(u),null}},this.decryptDefault_ECB=function(e){try{var t=new a,r=new o;r.isPadding=!0,r.mode=t.SM4_ENCRYPT;var n=this.stringToByte(this.secretKey);t.sm4_setkey_dec(r,n);var i=t.sm4_crypt_ecb(r,base64js.toByteArray(e));return this.byteToString(i)}catch(s){return console.error(s),null}},this.decryptCustom_ECB=function(e,t){try{var r=new a,n=new o;n.isPadding=!0,n.mode=r.SM4_ENCRYPT;var i=this.stringToByte(t);r.sm4_setkey_dec(n,i);var s=r.sm4_crypt_ecb(n,base64js.toByteArray(e));return this.byteToString(s)}catch(l){return console.error(l),null}},this.encryptDefault_CBC=function(e){try{var t=new a,r=new o;r.isPadding=!0,r.mode=t.SM4_ENCRYPT;var n=this.stringToByte(this.secretKey),i=this.stringToByte(this.iv);t.sm4_setkey_enc(r,n);var s=t.sm4_crypt_cbc(r,i,this.stringToByte(e)),l=base64js.fromByteArray(s);return null!=l&&l.trim().length>0&&l.replace(/(\s*|\t|\r|\n)/g,""),l}catch(u){return console.error(u),null}},this.encryptCustom_CBC=function(e,t,r){try{var n=new a,i=new o;i.isPadding=!0,i.mode=n.SM4_ENCRYPT;var s=this.stringToByte(r),l=this.stringToByte(t);n.sm4_setkey_enc(i,s);var u=n.sm4_crypt_cbc(i,l,this.stringToByte(e)),c=base64js.fromByteArray(u);return null!=c&&c.trim().length>0&&c.replace(/(\s*|\t|\r|\n)/g,""),c}catch(h){return console.error(h),null}},this.decryptDefault_CBC=function(e){try{var t=new a,r=new o;r.isPadding=!0,r.mode=t.SM4_ENCRYPT;var n=this.stringToByte(this.secretKey),i=this.stringToByte(this.iv);t.sm4_setkey_dec(r,n);var s=t.sm4_crypt_cbc(r,i,base64js.toByteArray(e));return this.byteToString(s)}catch(l){return console.error(l),null}},this.decryptCustom_CBC=function(e,t,r){try{var n=new a,i=new o;i.isPadding=!0,i.mode=n.SM4_ENCRYPT;var s=this.stringToByte(r),l=this.stringToByte(t);n.sm4_setkey_dec(i,s);var u=n.sm4_crypt_cbc(i,l,base64js.toByteArray(e));return this.byteToString(u)}catch(c){return console.error(c),null}},this.stringToByte=function(e){var t,r,n=[];t=e.length;for(var i=0;i<t;i++)(r=e.charCodeAt(i))>=65536&&r<=1114111?(n.push(r>>18&7|240),n.push(r>>12&63|128),n.push(r>>6&63|128),n.push(63&r|128)):r>=2048&&r<=65535?(n.push(r>>12&15|224),n.push(r>>6&63|128),n.push(63&r|128)):r>=128&&r<=2047?(n.push(r>>6&31|192),n.push(63&r|128)):n.push(255&r);return n},this.byteToString=function(e){if("string"==typeof e)return e;for(var t="",r=e,n=0;n<r.length;n++){var i=r[n].toString(2),s=i.match(/^1+?(?=0)/);if(s&&8===i.length){for(var o=s[0].length,a=r[n].toString(2).slice(7-o),l=1;l<o;l++)a+=r[l+n].toString(2).slice(2);t+=String.fromCharCode(parseInt(a,2)),n+=o-1}else t+=String.fromCharCode(r[n])}return t}},u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-container"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("h2",[e._v("登录")])]),t("div",{staticClass:"card_body"},[t("el-form",{ref:"loginForm",staticClass:"login_form",staticStyle:{display:"flex","flex-direction":"column"},attrs:{model:e.loginForm,rules:e.loginRules}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{placeholder:"请输入密码","show-password":"",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("div",{staticStyle:{display:"flex","column-gap":"20px","align-items":"center"}},[t("el-form-item",{staticStyle:{width:"200px"},attrs:{label:"验证码",prop:"verifyCode"}},[t("el-input",{attrs:{placeholder:"请输入验证码",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.verifyCode,callback:function(t){e.$set(e.loginForm,"verifyCode",t)},expression:"loginForm.verifyCode"}})],1),t("el-image",{staticStyle:{width:"120px",height:"70px",border:"1px solid black",cursor:"pointer"},attrs:{fit:"fill",src:e.verifyImage},on:{click:e.refreshVCImage}})],1),t("el-form-item",{staticStyle:{margin:"0"}},[t("el-button",{attrs:{type:"text"}},[e._v("忘记密码？")])],1),t("el-form-item",[t("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary",plain:""},on:{click:e.handleLogin}},[e._v("登录")])],1)],1)],1)])],1)};t("default",s({name:"Login",data:function(){return{loginForm:{username:null,verifyCode:null,password:null},loginRules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],verifyCode:[{required:!0,message:"验证码不能为空",trigger:"blur"}]},verifyImage:"",uuid:null}},created:function(){this.refreshVCImage()},methods:{refreshVCImage:function(){var e=this;n({url:"/8/login",headers:{isToken:!1},method:"get",timeout:2e4}).then((function(t){e.uuid=t.uuid,e.verifyImage="data:image/png;base64,"+t.image}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(t){var r=new l;(s=e.loginForm.username,o=r.encryptCustom_CBC(e.loginForm.password,"dA0jU4bN1sE5dB2v","lN0dZ8uG4aY6iF4b"),a=e.loginForm.verifyCode,u=e.uuid,n({url:"/8/login",headers:{isToken:!1},method:"post",data:{username:s,password:o,verifyCode:a,uuid:u}})).then((function(t){var r=t.message;200===t.code?(i(t.token),e.$router.push({path:"/person-center"})):e.$message.error(r)}))}var s,o,a,u}))}}},u,[],!1,null,"a8a2e5c3",null,null).exports)}}}))}();
